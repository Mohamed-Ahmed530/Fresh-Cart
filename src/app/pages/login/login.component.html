<section class="w-3/4 mx-auto bg-gray-50 p-4 border rounded shadow-md">
    
    <h1 class="text-3xl font-medium my-4">Login Now<b>:</b></h1>
    
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">


        <div class="email mb-1">
            <label for="Email" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Email<b>:</b></label>
            <app-input formControlName="email" [type]="'email'" [id]="'Email'" ></app-input>
            
            @let emailControl = loginForm.get('email');
            <app-error-message [nameControl]="emailControl" ></app-error-message>
        </div>
        
        <div class="password mb-1 relative">
            <label for="Password" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Password<b>:</b></label>
            <app-input formControlName="password" [type]=" !togilPassword? 'password' : 'text' " [id]="'Password'" ></app-input>

            @if (!togilPassword) {
                <span (click)="toggle()" class="absolute cursor-pointer top-[38px] right-2" > <i class="fa-solid fa-eye"></i> </span>
            }@else {
                <span (click)="toggle()" class="absolute cursor-pointer top-[38px] right-2" > <i class="fa-solid fa-eye-slash"></i> </span>
            }

            @let passwordControl = loginForm.get('password'); 
            <app-error-message [nameControl]="passwordControl" ></app-error-message>
        </div>

        <button type="submit" class="btn-main my-2">SignIn 
            @if (isCallingApi) {
                <span> <i class="fa fa-spin fa-spinner"></i> </span> 
            }
        </button>

        <div class="flex justify-between px-2">
            <a class="text-main text-lg hover:text-black" routerLink="/register">SignUp<i class="fa-solid fa-question"></i></a>
            <a class="text-main ms-4 text-lg hover:text-black" routerLink="/forgotpassword">ForgotPassword<i class="fa-solid fa-question"></i></a>
        </div>
        
        @if (success) {
            <p class="flex items-center p-4 mb-4 text-2xl text-green-800 border border-green-300 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400 dark:border-green-800">
                {{success}} <i class="fa-solid fa-check text-3xl ms-3"></i>
            </p>
        }
        @else if (msgError) {
            <p class="flex my-1 p-4 mb-4 text-2xl text-red-800 rounded-lg bg-red-50 dark:bg-gray-800 dark:text-red-400"> {{msgError}} </p>
        }


    </form>

    
    
</section>